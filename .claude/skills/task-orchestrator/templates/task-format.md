# Task Format Template

## Purpose

This template defines the standardized format for tasks generated by the Hierarchical Task Orchestration system. All tasks must follow this structure to ensure consistency, clarity, and proper agent assignment.

## Task Structure Schema

```yaml
# === TASK METADATA ===
task_id: "unique_identifier_string"
task_name: "Human-readable task title"
task_type: "strategic|tactical|operational"
priority: "critical|high|medium|low"
created_date: "YYYY-MM-DD"
estimated_duration: "X hours/days/weeks"
assigned_agent: "agent_type_or_specific_agent"

# === CLASSIFICATION ===
domain: "frontend|backend|architecture|security|performance|qa|infrastructure"
complexity_score: 0.0-1.0
risk_level: "low|medium|high|critical"
business_value: 0.0-1.0

# === SCOPE & BOUNDARIES ===
description: |
  Clear, detailed description of what needs to be accomplished.
  Include context, objectives, and success criteria.

scope:
  includes:
    - "Specific deliverables and components"
    - "Files, directories, or systems affected"
  excludes:
    - "Explicitly out-of-scope items"
    - "Related but separate concerns"

acceptance_criteria:
  - "Measurable condition 1"
  - "Measurable condition 2"
  - "Measurable condition 3"

# === DEPENDENCIES ===
dependencies:
  hard_dependencies:
    - task_id: "dependency_task_id"
      description: "Why this task depends on the dependency"
  soft_dependencies:
    - task_id: "optional_dependency_id"
      description: "Why this dependency is beneficial but not required"
  resource_dependencies:
    - "API access, credentials, tools, or environments needed"

blocks:
  - task_id: "blocked_task_id"
    description: "Task that will be blocked by this one"

# === IMPLEMENTATION GUIDANCE ===
implementation_notes:
  suggested_approach: |
    Recommended implementation strategy or approach.
    Include architectural considerations or best practices.

  technical_constraints:
    - "Specific technologies, frameworks, or version requirements"
    - "Performance, security, or compatibility constraints"

  testing_requirements:
    - "Required test types and coverage levels"
    - "Specific test scenarios or edge cases"

# === VALIDATION & QUALITY ===
quality_gates:
  code_quality_threshold: 0.85
  test_coverage_minimum: 0.80
  performance_requirements:
    - "Specific performance criteria if applicable"
  security_requirements:
    - "Security considerations or compliance needs"

validation_steps:
  - step: "Self-assessment and code review"
    type: "automated|manual"
  - step: "Unit and integration testing"
    type: "automated"
  - step: "Integration testing with dependent systems"
    type: "manual"

# === COMMUNICATION & COLLABORATION ===
collaboration_requirements:
  required_communication:
    - agent: "agent_type_or_role"
      purpose: "Why communication is needed"
      timing: "before|during|after_task"

  stakeholders:
    - role: "product_manager|tech_lead|qa_engineer"
      involvement: "review|approval|notification"

# === RISK MITIGATION ===
risk_factors:
  - risk: "Description of potential risk"
    probability: "low|medium|high"
    impact: "low|medium|high"
    mitigation: "Strategy to reduce or handle the risk"

rollback_plan:
  conditions: "When rollback would be triggered"
  steps:
    - "Step 1 to revert changes"
    - "Step 2 to restore previous state"
    - "Step 3 to verify restoration"

# === METRICS & TRACKING ===
success_metrics:
  primary:
    - metric: "Key success indicator"
      target: "Specific, measurable target"
  secondary:
    - metric: "Additional success indicators"
      target: "Target values"

progress_indicators:
  - milestone: "25% complete"
    description: "What this milestone looks like"
  - milestone: "50% complete"
    description: "What this milestone looks like"
  - milestone: "75% complete"
    description: "What this milestone looks like"
  - milestone: "100% complete"
    description: "What completion looks like"
```

## Task Examples

### Example 1: Frontend Component Task

```yaml
task_id: "frontend-001-profile-component"
task_name: "Implement user profile component with avatar and settings"
task_type: "operational"
priority: "high"
created_date: "2025-01-27"
estimated_duration: "2 days"
assigned_agent: "frontend-developer"

domain: "frontend"
complexity_score: 0.4
risk_level: "low"
business_value: 0.7

description: |
  Create a reusable user profile component that displays user information
  including avatar, name, email, and quick access to account settings.
  Component should be responsive and accessible.

scope:
  includes:
    - "Profile component widget"
    - "Avatar display with fallback"
    - "Edit profile button"
    - "Settings navigation"
  excludes:
    - "Settings implementation (navigation only)"
    - "Profile picture upload functionality"

acceptance_criteria:
  - "Component displays user avatar, name, and email"
  - "Responsive design works on mobile and desktop"
  - "WCAG 2.1 AA accessibility compliance"
  - "Component integrates with existing theme system"

dependencies:
  hard_dependencies:
    - task_id: "backend-003-user-api"
      description: "User data API must be available"
  soft_dependencies:
    - task_id: "design-001-profile-mockups"
      description: "Design mockups for visual reference"

implementation_notes:
  suggested_approach: |
    Use existing component library patterns and integrate with
    current state management solution. Implement lazy loading
    for avatar images.

  technical_constraints:
    - "Must use React 18+ with TypeScript"
    - "Integrate with existing theme system"
    - "Support both light and dark modes"

  testing_requirements:
    - "Unit tests for all component states"
    - "Integration tests with user context"
    - "Accessibility testing with screen readers"

quality_gates:
  code_quality_threshold: 0.90
  test_coverage_minimum: 0.85

validation_steps:
  - step: "Component renders without errors"
    type: "automated"
  - step: "All user interactions work correctly"
    type: "manual"
  - step: "Accessibility audit passes"
    type: "automated"

collaboration_requirements:
  required_communication:
    - agent: "backend-developer"
      purpose: "Confirm user data structure"
      timing: "before_task"

risk_factors:
  - risk: "Avatar loading performance issues"
    probability: "medium"
    impact: "low"
    mitigation: "Implement lazy loading and fallbacks"

success_metrics:
  primary:
    - metric: "Component renders correctly"
      target: "100% of test cases pass"
  secondary:
    - metric: "Accessibility score"
      target: "95%+ compliance"
```

### Example 2: Backend API Task

```yaml
task_id: "backend-003-user-api"
task_name: "Implement user profile REST API endpoints"
task_type: "tactical"
priority: "high"
created_date: "2025-01-27"
estimated_duration: "3 days"
assigned_agent: "backend-developer"

domain: "backend"
complexity_score: 0.6
risk_level: "medium"
business_value: 0.8

description: |
  Create RESTful API endpoints for user profile management including
  retrieving profile data, updating user information, and handling
  avatar uploads. Implement proper authentication and validation.

scope:
  includes:
    - "GET /api/users/{id} - retrieve user profile"
    - "PUT /api/users/{id} - update user profile"
    - "POST /api/users/{id}/avatar - upload avatar"
    - "Authentication middleware"
    - "Input validation and error handling"
  excludes:
    - "User registration endpoints"
    - "Password management"

acceptance_criteria:
  - "All endpoints respond with appropriate HTTP status codes"
  - "Authentication required for profile access"
  - "Input validation prevents invalid data"
  - "API responses follow consistent format"
  - "Rate limiting implemented for avatar uploads"

dependencies:
  hard_dependencies:
    - task_id: "database-001-user-schema"
      description: "User database schema must be defined"
  resource_dependencies:
    - "Database connection and credentials"
    - "File storage service for avatars"

implementation_notes:
  suggested_approach: |
    Use Express.js with existing middleware patterns. Implement
    JWT authentication and file upload handling with proper
    error handling and logging.

  technical_constraints:
    - "Node.js 18+ with Express"
    - "JWT authentication integration"
    - "File size limits for uploads"
    - "Database transaction handling"

  testing_requirements:
    - "Unit tests for all endpoints"
    - "Integration tests with database"
    - "Security testing for authentication"

quality_gates:
  code_quality_threshold: 0.85
  test_coverage_minimum: 0.90

validation_steps:
  - step: "API endpoints respond correctly"
    type: "automated"
  - step: "Authentication and authorization work"
    type: "manual"
  - step: "Error handling covers edge cases"
    type: "automated"

collaboration_requirements:
  required_communication:
    - agent: "frontend-developer"
      purpose: "Confirm API response format"
      timing: "before_task"
    - agent: "security-auditor"
      purpose: "Security review of endpoints"
      timing: "during_task"

risk_factors:
  - risk: "Authentication bypass vulnerabilities"
    probability: "low"
    impact: "critical"
    mitigation: "Security audit and thorough testing"

success_metrics:
  primary:
    - metric: "API functionality"
      target: "All endpoints work as specified"
  secondary:
    - metric: "Security assessment"
      target: "No critical vulnerabilities found"
```

## Usage Guidelines

### 1. Task Creation Process
1. **Analyze Requirements**: Understand scope, dependencies, and constraints
2. **Assess Complexity**: Evaluate technical difficulty and risk factors
3. **Determine Type**: Classify as strategic, tactical, or operational
4. **Set Priority**: Based on business value and dependencies
5. **Complete Template**: Fill in all required sections completely
6. **Validate**: Review for completeness and clarity before assignment

### 2. Quality Standards
- **Completeness**: All sections must be filled out
- **Clarity**: descriptions and criteria must be unambiguous
- **Measurability**: Success criteria must be verifiable
- **Feasibility**: Tasks must be achievable within estimates

### 3. Agent Assignment Considerations
- **Domain Expertise**: Match agent specialization to task domain
- **Complexity Capability**: Ensure agent can handle complexity level
- **Current Workload**: Consider agent availability and capacity
- **Historical Performance**: Factor in past success with similar tasks

---

*This task format ensures consistency, clarity, and effective agent assignment across the Hierarchical Task Orchestration system.*